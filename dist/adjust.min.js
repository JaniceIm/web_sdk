!function(e){"use strict";function n(e,n,r,t,a){var o=new XMLHttpRequest;o.open(e,n,!0),o.setRequestHeader("Client-SDK","js4.1.0"),o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<400?t&&t(o):a&&a&&a(new Error("Server responded with HTTP "+o.status),o))},a&&(o.onerror=a),o.send(r)}function r(e){var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.join("&")}function t(e){var n={};if("object"!=typeof e||!e)return n;for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}!1 in new XMLHttpRequest&&(n=function(){}),e.Adjust=function(e){var a=(e=e||{}).app_token,o=e.environment,u=e.os_name||"android";return{trackSession:function(e,s,i){var c=t((e=e||{}).device_ids);c.app_token=a,c.environment=o,c.os_name=u,n("GET","https://app.adjust.com/session?"+r(c),null,s,i)},trackEvent:function(e,i,c){var p=function(e){var n=parseFloat(e.revenue);if(n<0||!e.currency)return null;return{revenue:n.toFixed(5),currency:e.currency}}(e=e||{}),v=s(e.callback_params),f=s(e.partner_params),d=t(e.device_ids);p&&(d.revenue=p.revenue,d.currency=p.currency);v&&(d.callback_params=JSON.stringify(v));f&&(d.partner_params=JSON.stringify(f));d.event_token=e.event_token,d.app_token=a,d.environment=o,d.os_name=u,n("GET","https://app.adjust.com/event?"+r(d),null,i,c)}};function s(e){if(!(e=e||[]).length)return null;for(var n={},r=0;r<e.length;r++)n[e[r].key]=e[r].value;return t(n)}}}(window);
